{"ast":null,"code":"import _asyncToGenerator from\"D:\\\\DevOps\\\\AuthInMern\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";import _slicedToArray from\"D:\\\\DevOps\\\\AuthInMern\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import _regeneratorRuntime from\"D:\\\\DevOps\\\\AuthInMern\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useEffect,useState}from'react';import axios from'axios';import styles from'./styles.module.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Main=function Main(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),blogPosts=_useState2[0],setBlogPosts=_useState2[1];useEffect(function(){// Fetch the user's blog posts when the component mounts\nvar fetchBlogPosts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get('/api/blog/user');case 3:response=_context.sent;// Adjust the API route as needed\nsetBlogPosts(response.data);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.error('Error fetching blog posts:',_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function fetchBlogPosts(){return _ref.apply(this,arguments);};}();fetchBlogPosts();},[]);var handleLogout=function handleLogout(){localStorage.removeItem('token');window.location.reload();};return/*#__PURE__*/_jsxs(\"div\",{className:styles.main_container,children:[/*#__PURE__*/_jsxs(\"nav\",{className:styles.navbar,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"fakebook\"}),/*#__PURE__*/_jsx(\"button\",{className:styles.white_btn,onClick:handleLogout,children:\"Logout\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.blogContainer,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Your Blog Posts\"}),blogPosts.length>0?blogPosts.map(function(post){return/*#__PURE__*/_jsxs(\"div\",{className:styles.blogPost,children:[/*#__PURE__*/_jsx(\"h3\",{children:post.title}),/*#__PURE__*/_jsx(\"p\",{children:post.content})]},post._id);}):/*#__PURE__*/_jsx(\"p\",{children:\"No blog posts found.\"})]})]});};export default Main;","map":{"version":3,"sources":["D:/DevOps/AuthInMern/client/src/components/Main/index.jsx"],"names":["React","useEffect","useState","axios","styles","Main","blogPosts","setBlogPosts","fetchBlogPosts","get","response","data","console","error","handleLogout","localStorage","removeItem","window","location","reload","main_container","navbar","white_btn","blogContainer","length","map","post","blogPost","title","content","_id"],"mappings":"gXAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,qBAAnB,C,wFAEA,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,EAAM,CACjB,cAAkCH,QAAQ,CAAC,EAAD,CAA1C,wCAAOI,SAAP,eAAkBC,YAAlB,eAEAN,SAAS,CAAC,UAAM,CACd;AACA,GAAMO,CAAAA,cAAc,0FAAG,sLAEIL,CAAAA,KAAK,CAACM,GAAN,CAAU,gBAAV,CAFJ,QAEbC,QAFa,eAEiC;AACpDH,YAAY,CAACG,QAAQ,CAACC,IAAV,CAAZ,CAHmB,+EAKnBC,OAAO,CAACC,KAAR,CAAc,4BAAd,cALmB,oEAAH,kBAAdL,CAAAA,cAAc,0CAApB,CASAA,cAAc,GACf,CAZQ,CAYN,EAZM,CAAT,CAcA,GAAMM,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACzBC,YAAY,CAACC,UAAb,CAAwB,OAAxB,EACAC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GACD,CAHD,CAKA,mBACE,aAAK,SAAS,CAAEf,MAAM,CAACgB,cAAvB,wBACE,aAAK,SAAS,CAAEhB,MAAM,CAACiB,MAAvB,wBACE,gCADF,cAEE,eAAQ,SAAS,CAAEjB,MAAM,CAACkB,SAA1B,CAAqC,OAAO,CAAER,YAA9C,oBAFF,GADF,cAQE,aAAK,SAAS,CAAEV,MAAM,CAACmB,aAAvB,wBACE,uCADF,CAEGjB,SAAS,CAACkB,MAAV,CAAmB,CAAnB,CACClB,SAAS,CAACmB,GAAV,CAAc,SAACC,IAAD,qBACZ,aAAoB,SAAS,CAAEtB,MAAM,CAACuB,QAAtC,wBACE,oBAAKD,IAAI,CAACE,KAAV,EADF,cAEE,mBAAIF,IAAI,CAACG,OAAT,EAFF,GAAUH,IAAI,CAACI,GAAf,CADY,EAAd,CADD,cAQC,2CAVJ,GARF,GADF,CAwBD,CA9CD,CAgDA,cAAezB,CAAAA,IAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport styles from './styles.module.css';\r\n\r\nconst Main = () => {\r\n  const [blogPosts, setBlogPosts] = useState([]);\r\n\r\n  useEffect(() => {\r\n    // Fetch the user's blog posts when the component mounts\r\n    const fetchBlogPosts = async () => {\r\n      try {\r\n        const response = await axios.get('/api/blog/user'); // Adjust the API route as needed\r\n        setBlogPosts(response.data);\r\n      } catch (error) {\r\n        console.error('Error fetching blog posts:', error);\r\n      }\r\n    };\r\n\r\n    fetchBlogPosts();\r\n  }, []);\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem('token');\r\n    window.location.reload();\r\n  };\r\n\r\n  return (\r\n    <div className={styles.main_container}>\r\n      <nav className={styles.navbar}>\r\n        <h1>fakebook</h1>\r\n        <button className={styles.white_btn} onClick={handleLogout}>\r\n          Logout\r\n        </button>\r\n      </nav>\r\n\r\n      <div className={styles.blogContainer}>\r\n        <h2>Your Blog Posts</h2>\r\n        {blogPosts.length > 0 ? (\r\n          blogPosts.map((post) => (\r\n            <div key={post._id} className={styles.blogPost}>\r\n              <h3>{post.title}</h3>\r\n              <p>{post.content}</p>\r\n            </div>\r\n          ))\r\n        ) : (\r\n          <p>No blog posts found.</p>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Main;\r\n"]},"metadata":{},"sourceType":"module"}